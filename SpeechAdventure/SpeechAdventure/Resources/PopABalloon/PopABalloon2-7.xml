<?xml version='1.0' encoding='UTF-8'?>
<!-- This document was created with Syntext Serna Free. --><stage>
  <scenery>
    <layer>
      <name>baseStageLayer</name>
      <item>
        <name>base</name>
        <anchorPoint>(0,0)</anchorPoint>
        <position>(0,0)</position>
        <file>S1BaseStage.png</file>
      </item>
    </layer>
    <layer>
      <name>activityLayer</name>
    </layer>
    <layer>
      <name>foregroundLayer</name>
      <item>
        <name>fore</name>
        <anchorPoint>(0,0)</anchorPoint>
        <position>(0,0)</position>
        <file>S1Foreground.png</file>
      </item>
    </layer>
  </scenery>
  <actorList>
    <actor>
      <name>Sam</name>
      <imageSource>
        <type>spriteSheet</type>
        <spriteSheet>
          <imageFile>SamSheet_2.png</imageFile>
          <plistFile>SamSheet_2.plist</plistFile>
        </spriteSheet>
      </imageSource>
      <stillFrame>
        <name>happy</name>
        <frameFile>SamHappy.png</frameFile>
      </stillFrame>
      <stillFrame>
        <name>normal</name>
        <frameFile>SamNormal.png</frameFile>
        <isDefaultStill>YES</isDefaultStill>
      </stillFrame>
      <stillFrame>
        <name>sad</name>
        <frameFile>SamSad.png</frameFile>
      </stillFrame>
      <stillFrame>
        <name>surprised</name>
        <frameFile>SamSurprised.png</frameFile>
      </stillFrame>
      <action>
        <name>walkLeft</name>
        <type>animation</type>
        <animation>
          <frameNameFormat>SamWalkLeft%d.png</frameNameFormat>
          <numberOfFrames>2</numberOfFrames>
          <frameDelay>0.5f</frameDelay>
        </animation>
      </action>
      <action>
        <name>walkRight</name>
        <type>animation</type>
        <animation>
          <name>walkRight</name>
          <frameNameFormat>SamWalkRight%d.png</frameNameFormat>
          <numberOfFrames>2</numberOfFrames>
          <frameDelay>0.5f</frameDelay>
        </animation>
      </action>
      <action>
        <name>walkUp</name>
        <type>animation</type>
        <animation>
          <frameNameFormat>SamWalkUp%d.png</frameNameFormat>
          <numberOfFrames>2</numberOfFrames>
          <frameDelay>0.5f</frameDelay>
        </animation>
      </action>
      <action>
        <name>walkDown</name>
        <type>animation</type>
        <animation>
          <frameNameFormat>SamWalkDown%d.png</frameNameFormat>
          <numberOfFrames>2</numberOfFrames>
          <frameDelay>0.5f</frameDelay>
        </animation>
      </action>
    </actor>
    <actor>
      <name>balloon</name>
      <imageSource>
        <type>singleFrame</type>
        <imageFile>Balloon2.png</imageFile>
      </imageSource>
      <action>
        <name>pop</name>
        <stateEffect>popped</stateEffect>
        <type>hide</type>
        <soundFile>PoppingBalloon1.wav</soundFile>
      </action>
    </actor>
  </actorList>
  <voiceToText>
<!--WATCH OUT HERE!!! Xcode HATES the "lm" extention that comes default on OE language models-->
    <model>
      <keyword>popABalloon</keyword>
      <dictionaryFile>PopABalloonOEModel.dic</dictionaryFile>
      <languageModelFile>PopABalloonOEModel.languagemodel</languageModelFile>
    </model>
    <command>
      <name>popBalloon</name>
      <activatingText>POP A BALLOON</activatingText>
      <correctThreshold>-500</correctThreshold>
      <cue>
        <cueCollectionType>single</cueCollectionType>
        <actor>balloon</actor>
        <actorMultiplicityType>pluralOneAtATime</actorMultiplicityType>
        <action>pop</action>
      </cue>
      <supportFile>Support-PopABalloon.wav</supportFile>
    </command>
  </voiceToText>
  <initializer>
    <item>
      <actor>Sam</actor>
      <instance>
        <location>(150,150)</location>
<!--Multiple locations don't yet work for spriteSheet actors
      <location>(300,300)</location>--><!--Changed location for diagnostic reasons
      <location>(-75,-75)</location>-->
        <stillFrame>normal</stillFrame>
      </instance>
<!--Instance syntax is strictly for spriteSheet actors-->
    </item>
    <item>
      <actor>balloon</actor>
      <location>(240,170)</location>
      <location>(265,150)</location>
      <location>(290,180)</location>
    </item>
    <cue>intro</cue>
  </initializer>
  <cueList>
    <cue>
      <name>intro</name>
      <cueCollectionType>sequence</cueCollectionType>
      <cue>
        <name>moveSam</name>
        <cueCollectionType>single</cueCollectionType>
        <actor>Sam</actor>
        <actorMultiplicityType>single</actorMultiplicityType>
        <action>walkRight</action>
        <duration>3</duration>
        <move>
          <type>bezier</type>
          <controlPoint>(77,30)</controlPoint>
          <controlPoint>(146,78)</controlPoint>
          <endPosition>(202,115)</endPosition>
        </move>
        <endStillFrame>normal</endStillFrame>
      </cue>
      <cue>
        <name>playPrompt</name>
        <cueCollectionType>single</cueCollectionType>
        <sound>S1Prompt.wav</sound>
      </cue>
    </cue>
    <cue>
      <name>rewardAndExit</name>
      <cueCollectionType>sequence</cueCollectionType>
      <cue>
        <name>crossBridge</name>
        <cueCollectionType>single</cueCollectionType>
        <actor>Sam</actor>
        <actorMultiplicityType>single</actorMultiplicityType>
        <action>walkRight</action>
        <sound>S1Reward.wav</sound>
        <duration>3</duration>
        <move>
          <type>bezier</type>
          <controlPoint>(227,161)</controlPoint>
          <controlPoint>(280,214)</controlPoint>
          <endPosition>(327,244)</endPosition>
        </move>
      </cue>
      <cue>
        <name>exit</name>
        <cueCollectionType>single</cueCollectionType>
        <actor>Sam</actor>
        <actorMultiplicityType>single</actorMultiplicityType>
        <action>walkRight</action>
        <duration>3</duration>
        <move>
          <type>straight</type>
          <endPosition>(327,244)</endPosition>
        </move>
      </cue>
    </cue>
  </cueList>
  <rewardCondition>
    <item>
      <actor>balloon</actor>
      <actorMultiplicityType>plural</actorMultiplicityType>
      <state>popped</state>
    </item>
    <cue>rewardAndExit</cue>
  </rewardCondition>
  <support>
    <suggestCommand>
      <triggerCount>3</triggerCount>
      <soundFile>S1SuggestionCommand.wav</soundFile>
    </suggestCommand>
    <suggestPronounciation>
      <triggerCount>3</triggerCount>
      <sound>S1SuggestPronunciation.wav</sound>
    </suggestPronounciation>
    <autoComplete>
      <triggerCount>6</triggerCount>
      <sound>S1Autocomplete.wav</sound>
      <command>popBalloon</command>
    </autoComplete>
  </support>
</stage>
